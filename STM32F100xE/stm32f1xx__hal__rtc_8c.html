<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>STM32F100xE HAL User Manual: stm32f1xx_hal_rtc.c File Reference</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />



</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">STM32F100xE HAL User Manual
   
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="dir_87d736d687b37c2c2535f3171b4da10d.html">Firmware</a>      </li>
      <li class="navelem"><a class="el" href="dir_77a4a036479ba611396f4796e3271770.html">Drivers</a>      </li>
      <li class="navelem"><a class="el" href="dir_e90ca8f7a3453277a713b77fb925b18f.html">STM32F1xx_HAL_Driver</a>      </li>
      <li class="navelem"><a class="el" href="dir_08b87254197b135abc61821bb66d28f7.html">Src</a>      </li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#define-members">Defines</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">stm32f1xx_hal_rtc.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>RTC HAL module driver. This file provides firmware functions to manage the following functionalities of the Real Time Clock (RTC) peripheral: + Initialization and de-initialization functions + RTC Time and Date functions + RTC Alarm functions + Peripheral Control functions + Peripheral State functions.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;stm32f1xx_hal.h&quot;</code><br/>
</div>
<p><a href="stm32f1xx__hal__rtc_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="define-members"></a>
Defines</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__RTC__Private__Constants.html#ga6c052ef1e88afb4052789b1811c2bee2">RTC_ALARM_RESETVALUE_REGISTER</a>&#160;&#160;&#160;(uint16_t)0xFFFF</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__RTC__Private__Constants.html#ga87b6cc1792bfd0ef4409e0ed023c837d">RTC_ALARM_RESETVALUE</a>&#160;&#160;&#160;0xFFFFFFFFU</td></tr>
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__RTC__Private__Functions.html#gad063862dc6cddf23b4ea354b19e408a8">RTC_ReadTimeCounter</a> (<a class="el" href="structRTC__HandleTypeDef.html">RTC_HandleTypeDef</a> *hrtc)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Read the time counter available in RTC_CNT registers.  <a href="group__RTC__Private__Functions.html#gad063862dc6cddf23b4ea354b19e408a8"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static HAL_StatusTypeDef&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__RTC__Private__Functions.html#gae05da78cec0969d001a5c83fd38ad2ba">RTC_WriteTimeCounter</a> (<a class="el" href="structRTC__HandleTypeDef.html">RTC_HandleTypeDef</a> *hrtc, uint32_t TimeCounter)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Write the time counter in RTC_CNT registers.  <a href="group__RTC__Private__Functions.html#gae05da78cec0969d001a5c83fd38ad2ba"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__RTC__Private__Functions.html#ga23f9fb76a13439d10bf7af47678fa853">RTC_ReadAlarmCounter</a> (<a class="el" href="structRTC__HandleTypeDef.html">RTC_HandleTypeDef</a> *hrtc)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Read the time counter available in RTC_ALR registers.  <a href="group__RTC__Private__Functions.html#ga23f9fb76a13439d10bf7af47678fa853"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static HAL_StatusTypeDef&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__RTC__Private__Functions.html#ga9a7ad70f7e75e12f68f326cb2397753a">RTC_WriteAlarmCounter</a> (<a class="el" href="structRTC__HandleTypeDef.html">RTC_HandleTypeDef</a> *hrtc, uint32_t AlarmCounter)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Write the time counter in RTC_ALR registers.  <a href="group__RTC__Private__Functions.html#ga9a7ad70f7e75e12f68f326cb2397753a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static HAL_StatusTypeDef&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__RTC__Private__Functions.html#gae458e4ba7e358659e4800d4fc7350c9e">RTC_EnterInitMode</a> (<a class="el" href="structRTC__HandleTypeDef.html">RTC_HandleTypeDef</a> *hrtc)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Enters the RTC Initialization mode.  <a href="group__RTC__Private__Functions.html#gae458e4ba7e358659e4800d4fc7350c9e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static HAL_StatusTypeDef&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__RTC__Private__Functions.html#ga116d44b64d20a55c8983b83eda5c0f49">RTC_ExitInitMode</a> (<a class="el" href="structRTC__HandleTypeDef.html">RTC_HandleTypeDef</a> *hrtc)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Exit the RTC Initialization mode.  <a href="group__RTC__Private__Functions.html#ga116d44b64d20a55c8983b83eda5c0f49"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__RTC__Private__Functions.html#ga020add50c73f0a08516fef0eeee8cca9">RTC_ByteToBcd2</a> (uint8_t Value)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Converts a 2 digit decimal to BCD format.  <a href="group__RTC__Private__Functions.html#ga020add50c73f0a08516fef0eeee8cca9"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__RTC__Private__Functions.html#ga39e7c20215c2f546a20cf5df25c72d72">RTC_Bcd2ToByte</a> (uint8_t Value)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Converts from 2 digit BCD to Binary.  <a href="group__RTC__Private__Functions.html#ga39e7c20215c2f546a20cf5df25c72d72"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__RTC__Private__Functions.html#ga8d4d6542eedddfe63d8a78a7cf9c7cde">RTC_IsLeapYear</a> (uint16_t nYear)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Check whether the passed year is Leap or not.  <a href="group__RTC__Private__Functions.html#ga8d4d6542eedddfe63d8a78a7cf9c7cde"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__RTC__Private__Functions.html#gae4669559e712876c0252ee4426bbdec5">RTC_DateUpdate</a> (<a class="el" href="structRTC__HandleTypeDef.html">RTC_HandleTypeDef</a> *hrtc, uint32_t DayElapsed)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Updates date when time is 23:59:59.  <a href="group__RTC__Private__Functions.html#gae4669559e712876c0252ee4426bbdec5"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__RTC__Private__Functions.html#ga9c2773c4b2b728dc4568b2fd4baea566">RTC_WeekDayNum</a> (uint32_t nYear, uint8_t nMonth, uint8_t nDay)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Determines the week number, the day number and the week day number.  <a href="group__RTC__Private__Functions.html#ga9c2773c4b2b728dc4568b2fd4baea566"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">HAL_StatusTypeDef&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__RTC__Exported__Functions__Group1.html#gaa6b53830aa3e2efaf210c0b1d3e5f4a4">HAL_RTC_Init</a> (<a class="el" href="structRTC__HandleTypeDef.html">RTC_HandleTypeDef</a> *hrtc)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes the RTC peripheral.  <a href="group__RTC__Exported__Functions__Group1.html#gaa6b53830aa3e2efaf210c0b1d3e5f4a4"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">HAL_StatusTypeDef&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__RTC__Exported__Functions__Group1.html#ga24a8aac7bd6d9bac9f211d24ff6930ec">HAL_RTC_DeInit</a> (<a class="el" href="structRTC__HandleTypeDef.html">RTC_HandleTypeDef</a> *hrtc)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">DeInitializes the RTC peripheral.  <a href="group__RTC__Exported__Functions__Group1.html#ga24a8aac7bd6d9bac9f211d24ff6930ec"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">__weak void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__RTC__Exported__Functions__Group1.html#gaee6eddaa309c8c9829f1ca794d8f99c5">HAL_RTC_MspInit</a> (<a class="el" href="structRTC__HandleTypeDef.html">RTC_HandleTypeDef</a> *hrtc)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes the RTC MSP.  <a href="group__RTC__Exported__Functions__Group1.html#gaee6eddaa309c8c9829f1ca794d8f99c5"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">__weak void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__RTC__Exported__Functions__Group1.html#ga8767bc3a4d472d39a688090ab10ba6ce">HAL_RTC_MspDeInit</a> (<a class="el" href="structRTC__HandleTypeDef.html">RTC_HandleTypeDef</a> *hrtc)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">DeInitializes the RTC MSP.  <a href="group__RTC__Exported__Functions__Group1.html#ga8767bc3a4d472d39a688090ab10ba6ce"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">HAL_StatusTypeDef&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__RTC__Exported__Functions__Group2.html#gafe0fed98171a564decd2a6c9be9781d8">HAL_RTC_SetTime</a> (<a class="el" href="structRTC__HandleTypeDef.html">RTC_HandleTypeDef</a> *hrtc, <a class="el" href="structRTC__TimeTypeDef.html">RTC_TimeTypeDef</a> *sTime, uint32_t Format)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets RTC current time.  <a href="group__RTC__Exported__Functions__Group2.html#gafe0fed98171a564decd2a6c9be9781d8"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">HAL_StatusTypeDef&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__RTC__Exported__Functions__Group2.html#gae478ca2647e8d2f7dd1828ce43889a9e">HAL_RTC_GetTime</a> (<a class="el" href="structRTC__HandleTypeDef.html">RTC_HandleTypeDef</a> *hrtc, <a class="el" href="structRTC__TimeTypeDef.html">RTC_TimeTypeDef</a> *sTime, uint32_t Format)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets RTC current time.  <a href="group__RTC__Exported__Functions__Group2.html#gae478ca2647e8d2f7dd1828ce43889a9e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">HAL_StatusTypeDef&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__RTC__Exported__Functions__Group2.html#ga6cf6c70227337a564ccef82f64d6268f">HAL_RTC_SetDate</a> (<a class="el" href="structRTC__HandleTypeDef.html">RTC_HandleTypeDef</a> *hrtc, <a class="el" href="structRTC__DateTypeDef.html">RTC_DateTypeDef</a> *sDate, uint32_t Format)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets RTC current date.  <a href="group__RTC__Exported__Functions__Group2.html#ga6cf6c70227337a564ccef82f64d6268f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">HAL_StatusTypeDef&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__RTC__Exported__Functions__Group2.html#ga07ec2e43a305aa55e8c2442a349fc505">HAL_RTC_GetDate</a> (<a class="el" href="structRTC__HandleTypeDef.html">RTC_HandleTypeDef</a> *hrtc, <a class="el" href="structRTC__DateTypeDef.html">RTC_DateTypeDef</a> *sDate, uint32_t Format)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets RTC current date.  <a href="group__RTC__Exported__Functions__Group2.html#ga07ec2e43a305aa55e8c2442a349fc505"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">HAL_StatusTypeDef&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__RTC__Exported__Functions__Group3.html#gafd78015b93b16dcb9e41a4655a7ea972">HAL_RTC_SetAlarm</a> (<a class="el" href="structRTC__HandleTypeDef.html">RTC_HandleTypeDef</a> *hrtc, <a class="el" href="structRTC__AlarmTypeDef.html">RTC_AlarmTypeDef</a> *sAlarm, uint32_t Format)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the specified RTC Alarm.  <a href="group__RTC__Exported__Functions__Group3.html#gafd78015b93b16dcb9e41a4655a7ea972"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">HAL_StatusTypeDef&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__RTC__Exported__Functions__Group3.html#gab66a7fec05e9d9374de95d5f61e16c16">HAL_RTC_SetAlarm_IT</a> (<a class="el" href="structRTC__HandleTypeDef.html">RTC_HandleTypeDef</a> *hrtc, <a class="el" href="structRTC__AlarmTypeDef.html">RTC_AlarmTypeDef</a> *sAlarm, uint32_t Format)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the specified RTC Alarm with Interrupt.  <a href="group__RTC__Exported__Functions__Group3.html#gab66a7fec05e9d9374de95d5f61e16c16"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">HAL_StatusTypeDef&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__RTC__Exported__Functions__Group3.html#ga4786b652ffee2d59da2c65dd78646405">HAL_RTC_GetAlarm</a> (<a class="el" href="structRTC__HandleTypeDef.html">RTC_HandleTypeDef</a> *hrtc, <a class="el" href="structRTC__AlarmTypeDef.html">RTC_AlarmTypeDef</a> *sAlarm, uint32_t Alarm, uint32_t Format)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the RTC Alarm value and masks.  <a href="group__RTC__Exported__Functions__Group3.html#ga4786b652ffee2d59da2c65dd78646405"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">HAL_StatusTypeDef&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__RTC__Exported__Functions__Group3.html#ga186d852f8aee8a4d0dfeec778be35482">HAL_RTC_DeactivateAlarm</a> (<a class="el" href="structRTC__HandleTypeDef.html">RTC_HandleTypeDef</a> *hrtc, uint32_t Alarm)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Deactive the specified RTC Alarm.  <a href="group__RTC__Exported__Functions__Group3.html#ga186d852f8aee8a4d0dfeec778be35482"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__RTC__Exported__Functions__Group3.html#gac185f2ce34fe566418d0978a48e0c199">HAL_RTC_AlarmIRQHandler</a> (<a class="el" href="structRTC__HandleTypeDef.html">RTC_HandleTypeDef</a> *hrtc)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">This function handles Alarm interrupt request.  <a href="group__RTC__Exported__Functions__Group3.html#gac185f2ce34fe566418d0978a48e0c199"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">__weak void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__RTC__Exported__Functions__Group3.html#ga11aeff83fd498cddbed3bcddcf017e0a">HAL_RTC_AlarmAEventCallback</a> (<a class="el" href="structRTC__HandleTypeDef.html">RTC_HandleTypeDef</a> *hrtc)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Alarm A callback.  <a href="group__RTC__Exported__Functions__Group3.html#ga11aeff83fd498cddbed3bcddcf017e0a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">HAL_StatusTypeDef&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__RTC__Exported__Functions__Group3.html#gaedc27fe412f45d999d74a0b98dce4d09">HAL_RTC_PollForAlarmAEvent</a> (<a class="el" href="structRTC__HandleTypeDef.html">RTC_HandleTypeDef</a> *hrtc, uint32_t Timeout)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">This function handles AlarmA Polling request.  <a href="group__RTC__Exported__Functions__Group3.html#gaedc27fe412f45d999d74a0b98dce4d09"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__RTC__Exported__Types.html#ga1e2460a2d13c4efc7a2a1ab2a1ebd32b">HAL_RTCStateTypeDef</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__RTC__Exported__Functions__Group4.html#ga527ac04240b47a22bf5ff469609eaa4d">HAL_RTC_GetState</a> (<a class="el" href="structRTC__HandleTypeDef.html">RTC_HandleTypeDef</a> *hrtc)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the RTC state.  <a href="group__RTC__Exported__Functions__Group4.html#ga527ac04240b47a22bf5ff469609eaa4d"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">HAL_StatusTypeDef&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__RTC__Exported__Functions__Group5.html#ga62efc08017f7dc4db0bc72f7c68085ad">HAL_RTC_WaitForSynchro</a> (<a class="el" href="structRTC__HandleTypeDef.html">RTC_HandleTypeDef</a> *hrtc)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Waits until the RTC registers (RTC_CNT, RTC_ALR and RTC_PRL) are synchronized with RTC APB clock.  <a href="group__RTC__Exported__Functions__Group5.html#ga62efc08017f7dc4db0bc72f7c68085ad"></a><br/></td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>RTC HAL module driver. This file provides firmware functions to manage the following functionalities of the Real Time Clock (RTC) peripheral: + Initialization and de-initialization functions + RTC Time and Date functions + RTC Alarm functions + Peripheral Control functions + Peripheral State functions. </p>
<dl class="author"><dt><b>Author:</b></dt><dd>MCD Application Team <div class="fragment"><pre class="fragment">
  ==============================================================================
                  ##### How to use this driver #####
  ==================================================================
  [..]
    (+) Enable the RTC domain access (see description in the section above).
    (+) Configure the RTC Prescaler (Asynchronous prescaler to generate RTC 1Hz time base)
        using the HAL_RTC_Init() function.

  *** Time and Date configuration ***
  ===================================
  [..]
    (+) To configure the RTC Calendar (Time and Date) use the HAL_RTC_SetTime()
        and HAL_RTC_SetDate() functions.
    (+) To read the RTC Calendar, use the HAL_RTC_GetTime() and HAL_RTC_GetDate() functions.

  *** Alarm configuration ***
  ===========================
  [..]
    (+) To configure the RTC Alarm use the HAL_RTC_SetAlarm() function.
        You can also configure the RTC Alarm with interrupt mode using the HAL_RTC_SetAlarm_IT() function.
    (+) To read the RTC Alarm, use the HAL_RTC_GetAlarm() function.

  *** Tamper configuration ***
  ============================
  [..]
    (+) Enable the RTC Tamper and configure the Tamper Level using the
        HAL_RTCEx_SetTamper() function. You can configure RTC Tamper with interrupt
        mode using HAL_RTCEx_SetTamper_IT() function.
    (+) The TAMPER1 alternate function can be mapped to PC13

  *** Backup Data Registers configuration ***
  ===========================================
  [..]
    (+) To write to the RTC Backup Data registers, use the HAL_RTCEx_BKUPWrite()
        function.
    (+) To read the RTC Backup Data registers, use the HAL_RTCEx_BKUPRead()
        function.

                  ##### WARNING: Drivers Restrictions  #####
  ==================================================================
  [..] RTC version used on STM32F1 families is version V1. All the features supported by V2
       (other families) will be not supported on F1.
  [..] As on V2, main RTC features are managed by HW. But on F1, date feature is completely
       managed by SW.
  [..] Then, there are some restrictions compared to other families:
    (+) Only format 24 hours supported in HAL (format 12 hours not supported)
    (+) Date is saved in SRAM. Then, when MCU is in STOP or STANDBY mode, date will be lost.
        User should implement a way to save date before entering in low power mode (an
        example is provided with firmware package based on backup registers)
    (+) Date is automatically updated each time a HAL_RTC_GetTime or HAL_RTC_GetDate is called.
    (+) Alarm detection is limited to 1 day. It will expire only 1 time (no alarm repetition, need
        to program a new alarm)

              ##### Backup Domain Operating Condition #####
  ==============================================================================
  [..] The real-time clock (RTC) and the RTC backup registers can be powered
       from the VBAT voltage when the main VDD supply is powered off.
       To retain the content of the RTC backup registers and supply the RTC
       when VDD is turned off, VBAT pin can be connected to an optional
       standby voltage supplied by a battery or by another source.

  [..] To allow the RTC operating even when the main digital supply (VDD) is turned
       off, the VBAT pin powers the following blocks:
    (#) The RTC
    (#) The LSE oscillator
    (#) The backup SRAM when the low power backup regulator is enabled
    (#) PC13 to PC15 I/Os, plus PI8 I/O (when available)

  [..] When the backup domain is supplied by VDD (analog switch connected to VDD),
       the following pins are available:
    (+) PC13 can be used as a Tamper pin

  [..] When the backup domain is supplied by VBAT (analog switch connected to VBAT
       because VDD is not present), the following pins are available:
    (+) PC13 can be used as the Tamper pin

                   ##### Backup Domain Reset #####
  ==================================================================
  [..] The backup domain reset sets all RTC registers and the RCC_BDCR register
       to their reset values.
  [..] A backup domain reset is generated when one of the following events occurs:
    (#) Software reset, triggered by setting the BDRST bit in the
        RCC Backup domain control register (RCC_BDCR).
    (#) VDD or VBAT power on, if both supplies have previously been powered off.
    (#) Tamper detection event resets all data backup registers.

                   ##### Backup Domain Access #####
  ==================================================================
  [..] After reset, the backup domain (RTC registers, RTC backup data
       registers and backup SRAM) is protected against possible unwanted write
       accesses.
  [..] To enable access to the RTC Domain and RTC registers, proceed as follows:
    (+) Call the function HAL_RCCEx_PeriphCLKConfig in using RCC_PERIPHCLK_RTC for
        PeriphClockSelection and select RTCClockSelection (LSE, LSI or HSE)
    (+) Enable the BKP clock in using __HAL_RCC_BKP_CLK_ENABLE()

                  ##### RTC and low power modes #####
  ==================================================================
  [..] The MCU can be woken up from a low power mode by an RTC alternate
       function.
  [..] The RTC alternate functions are the RTC alarms (Alarm A),
       and RTC tamper event detection.
       These RTC alternate functions can wake up the system from the Stop and
       Standby low power modes.
  [..] The system can also wake up from low power modes without depending
       on an external interrupt (Auto-wakeup mode), by using the RTC alarm.

  *** Callback registration ***
  =============================================

  The compilation define  USE_HAL_RTC_REGISTER_CALLBACKS when set to 1
  allows the user to configure dynamically the driver callbacks.
  Use Function @ref HAL_RTC_RegisterCallback() to register an interrupt callback.

  Function @ref HAL_RTC_RegisterCallback() allows to register following callbacks:
    (+) AlarmAEventCallback          : RTC Alarm A Event callback.
    (+) Tamper1EventCallback         : RTC Tamper 1 Event callback.
    (+) MspInitCallback              : RTC MspInit callback.
    (+) MspDeInitCallback            : RTC MspDeInit callback.
  This function takes as parameters the HAL peripheral handle, the Callback ID
  and a pointer to the user callback function.

  Use function @ref HAL_RTC_UnRegisterCallback() to reset a callback to the default
  weak function.
  @ref HAL_RTC_UnRegisterCallback() takes as parameters the HAL peripheral handle,
  and the Callback ID.
  This function allows to reset following callbacks:
    (+) AlarmAEventCallback          : RTC Alarm A Event callback.
    (+) Tamper1EventCallback         : RTC Tamper 1 Event callback.
    (+) MspInitCallback              : RTC MspInit callback.
    (+) MspDeInitCallback            : RTC MspDeInit callback.

  By default, after the @ref HAL_RTC_Init() and when the state is HAL_RTC_STATE_RESET,
  all callbacks are set to the corresponding weak functions :
  example @ref AlarmAEventCallback().
  Exception done for MspInit and MspDeInit callbacks that are reset to the legacy weak function
  in the @ref HAL_RTC_Init()/@ref HAL_RTC_DeInit() only when these callbacks are null
  (not registered beforehand).
  If not, MspInit or MspDeInit are not null, @ref HAL_RTC_Init()/@ref HAL_RTC_DeInit()
  keep and use the user MspInit/MspDeInit callbacks (registered beforehand)

  Callbacks can be registered/unregistered in HAL_RTC_STATE_READY state only.
  Exception done MspInit/MspDeInit that can be registered/unregistered
  in HAL_RTC_STATE_READY or HAL_RTC_STATE_RESET state,
  thus registered (user) MspInit/DeInit callbacks can be used during the Init/DeInit.
  In that case first register the MspInit/MspDeInit user callbacks
  using @ref HAL_RTC_RegisterCallback() before calling @ref HAL_RTC_DeInit()
  or @ref HAL_RTC_Init() function.

  When The compilation define USE_HAL_RTC_REGISTER_CALLBACKS is set to 0 or
  not defined, the callback registration feature is not available and all callbacks
  are set to the corresponding weak functions.
   </pre></div></dd></dl>
<dl class="attention"><dt><b>Attention:</b></dt><dd></dd></dl>
<h2><center>&copy; Copyright (c) 2016 STMicroelectronics. All rights reserved.</center></h2>
<p>This software component is licensed by ST under BSD 3-Clause license, the "License"; You may not use this file except in compliance with the License. You may obtain a copy of the License at: opensource.org/licenses/BSD-3-Clause </p>

<p>Definition in file <a class="el" href="stm32f1xx__hal__rtc_8c_source.html">stm32f1xx_hal_rtc.c</a>.</p>
</div></div><!-- contents -->


<hr class="footer"/><address class="footer"><small>
Generated on Tue May 14 2019 08:53:44 for STM32F100xE HAL User Manual by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.7.6.1
</small></address>

</body>
</html>
