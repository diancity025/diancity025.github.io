<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>STM32F103xB HAL User Manual: stm32f1xx_hal_can.c File Reference</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />



</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">STM32F103xB HAL User Manual
   
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="dir_87d736d687b37c2c2535f3171b4da10d.html">Firmware</a>      </li>
      <li class="navelem"><a class="el" href="dir_77a4a036479ba611396f4796e3271770.html">Drivers</a>      </li>
      <li class="navelem"><a class="el" href="dir_e90ca8f7a3453277a713b77fb925b18f.html">STM32F1xx_HAL_Driver</a>      </li>
      <li class="navelem"><a class="el" href="dir_08b87254197b135abc61821bb66d28f7.html">Src</a>      </li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#define-members">Defines</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">stm32f1xx_hal_can.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>CAN HAL module driver. This file provides firmware functions to manage the following functionalities of the Controller Area Network (CAN) peripheral: + Initialization and de-initialization functions + Configuration functions + Control functions + Interrupts management + Callbacks functions + Peripheral State and Error functions.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;stm32f1xx_hal.h&quot;</code><br/>
</div>
<p><a href="stm32f1xx__hal__can_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="define-members"></a>
Defines</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group/group__CAN__Private__Constants.html#ga145740df7f718fd03684ef5e3a1e33f2">CAN_TIMEOUT_VALUE</a>&#160;&#160;&#160;10U</td></tr>
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">HAL_StatusTypeDef&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group/group__CAN__Exported__Functions__Group1.html#gabc5e5bbffb32916843f0ad7694424694">HAL_CAN_Init</a> (<a class="el" href="group/group__CAN__Exported__Types.html#gab7cb5283f4d9a37525a360300e6f702e">CAN_HandleTypeDef</a> *hcan)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes the CAN peripheral according to the specified parameters in the CAN_InitStruct.  <a href="group/group__CAN__Exported__Functions__Group1.html#gabc5e5bbffb32916843f0ad7694424694"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">HAL_StatusTypeDef&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group/group__CAN__Exported__Functions__Group1.html#ga4ed85c9db765091c392774777b13b4de">HAL_CAN_DeInit</a> (<a class="el" href="group/group__CAN__Exported__Types.html#gab7cb5283f4d9a37525a360300e6f702e">CAN_HandleTypeDef</a> *hcan)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Deinitializes the CAN peripheral registers to their default reset values.  <a href="group/group__CAN__Exported__Functions__Group1.html#ga4ed85c9db765091c392774777b13b4de"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">__weak void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group/group__CAN__Exported__Functions__Group1.html#ga8ecddba6a06c36b74e0b754bde266414">HAL_CAN_MspInit</a> (<a class="el" href="group/group__CAN__Exported__Types.html#gab7cb5283f4d9a37525a360300e6f702e">CAN_HandleTypeDef</a> *hcan)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes the CAN MSP.  <a href="group/group__CAN__Exported__Functions__Group1.html#ga8ecddba6a06c36b74e0b754bde266414"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">__weak void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group/group__CAN__Exported__Functions__Group1.html#ga7961550b05594a87512b20a4157713e8">HAL_CAN_MspDeInit</a> (<a class="el" href="group/group__CAN__Exported__Types.html#gab7cb5283f4d9a37525a360300e6f702e">CAN_HandleTypeDef</a> *hcan)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">DeInitializes the CAN MSP.  <a href="group/group__CAN__Exported__Functions__Group1.html#ga7961550b05594a87512b20a4157713e8"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">HAL_StatusTypeDef&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group/group__CAN__Exported__Functions__Group2.html#gab7a84f6106fe8d5024c4a2666aaf23e9">HAL_CAN_ConfigFilter</a> (<a class="el" href="group/group__CAN__Exported__Types.html#gab7cb5283f4d9a37525a360300e6f702e">CAN_HandleTypeDef</a> *hcan, <a class="el" href="structCAN__FilterTypeDef.html">CAN_FilterTypeDef</a> *sFilterConfig)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Configures the CAN reception filter according to the specified parameters in the CAN_FilterInitStruct.  <a href="group/group__CAN__Exported__Functions__Group2.html#gab7a84f6106fe8d5024c4a2666aaf23e9"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">HAL_StatusTypeDef&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group/group__CAN__Exported__Functions__Group3.html#ga2b8378da38aaa12bbd2823d309618025">HAL_CAN_Start</a> (<a class="el" href="group/group__CAN__Exported__Types.html#gab7cb5283f4d9a37525a360300e6f702e">CAN_HandleTypeDef</a> *hcan)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Start the CAN module.  <a href="group/group__CAN__Exported__Functions__Group3.html#ga2b8378da38aaa12bbd2823d309618025"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">HAL_StatusTypeDef&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group/group__CAN__Exported__Functions__Group3.html#ga8e73e3b3da1dd497221fc642c0b8a84f">HAL_CAN_Stop</a> (<a class="el" href="group/group__CAN__Exported__Types.html#gab7cb5283f4d9a37525a360300e6f702e">CAN_HandleTypeDef</a> *hcan)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Stop the CAN module and enable access to configuration registers.  <a href="group/group__CAN__Exported__Functions__Group3.html#ga8e73e3b3da1dd497221fc642c0b8a84f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">HAL_StatusTypeDef&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group/group__CAN__Exported__Functions__Group3.html#gaedd93c08b5b6026ecc178c2d46571b69">HAL_CAN_RequestSleep</a> (<a class="el" href="group/group__CAN__Exported__Types.html#gab7cb5283f4d9a37525a360300e6f702e">CAN_HandleTypeDef</a> *hcan)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Request the sleep mode (low power) entry.  <a href="group/group__CAN__Exported__Functions__Group3.html#gaedd93c08b5b6026ecc178c2d46571b69"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">HAL_StatusTypeDef&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group/group__CAN__Exported__Functions__Group3.html#gaf1edf6db55aa886857f50b9ee69f1c13">HAL_CAN_WakeUp</a> (<a class="el" href="group/group__CAN__Exported__Types.html#gab7cb5283f4d9a37525a360300e6f702e">CAN_HandleTypeDef</a> *hcan)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Wake up from sleep mode.  <a href="group/group__CAN__Exported__Functions__Group3.html#gaf1edf6db55aa886857f50b9ee69f1c13"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group/group__CAN__Exported__Functions__Group3.html#ga56a589adc359dec74801e11a771a3812">HAL_CAN_IsSleepActive</a> (<a class="el" href="group/group__CAN__Exported__Types.html#gab7cb5283f4d9a37525a360300e6f702e">CAN_HandleTypeDef</a> *hcan)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Check is sleep mode is active.  <a href="group/group__CAN__Exported__Functions__Group3.html#ga56a589adc359dec74801e11a771a3812"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">HAL_StatusTypeDef&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group/group__CAN__Exported__Functions__Group3.html#ga82cd04bf8478c081247d933efeb19082">HAL_CAN_AddTxMessage</a> (<a class="el" href="group/group__CAN__Exported__Types.html#gab7cb5283f4d9a37525a360300e6f702e">CAN_HandleTypeDef</a> *hcan, <a class="el" href="structCAN__TxHeaderTypeDef.html">CAN_TxHeaderTypeDef</a> *pHeader, uint8_t aData[], uint32_t *pTxMailbox)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a message to the first free Tx mailbox and activate the corresponding transmission request.  <a href="group/group__CAN__Exported__Functions__Group3.html#ga82cd04bf8478c081247d933efeb19082"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">HAL_StatusTypeDef&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group/group__CAN__Exported__Functions__Group3.html#ga772c1cb033b090a2c7bc3f946d7b6866">HAL_CAN_AbortTxRequest</a> (<a class="el" href="group/group__CAN__Exported__Types.html#gab7cb5283f4d9a37525a360300e6f702e">CAN_HandleTypeDef</a> *hcan, uint32_t TxMailboxes)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Abort transmission requests.  <a href="group/group__CAN__Exported__Functions__Group3.html#ga772c1cb033b090a2c7bc3f946d7b6866"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group/group__CAN__Exported__Functions__Group3.html#ga3f872664b9ff2ba6d3f131d801e35857">HAL_CAN_GetTxMailboxesFreeLevel</a> (<a class="el" href="group/group__CAN__Exported__Types.html#gab7cb5283f4d9a37525a360300e6f702e">CAN_HandleTypeDef</a> *hcan)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Return Tx Mailboxes free level: number of free Tx Mailboxes.  <a href="group/group__CAN__Exported__Functions__Group3.html#ga3f872664b9ff2ba6d3f131d801e35857"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group/group__CAN__Exported__Functions__Group3.html#ga7969a28046ab91c59e934e38986c67f3">HAL_CAN_IsTxMessagePending</a> (<a class="el" href="group/group__CAN__Exported__Types.html#gab7cb5283f4d9a37525a360300e6f702e">CAN_HandleTypeDef</a> *hcan, uint32_t TxMailboxes)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if a transmission request is pending on the selected Tx Mailboxes.  <a href="group/group__CAN__Exported__Functions__Group3.html#ga7969a28046ab91c59e934e38986c67f3"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group/group__CAN__Exported__Functions__Group3.html#ga144221a69db7ddaf763dc1654a82fff2">HAL_CAN_GetTxTimestamp</a> (<a class="el" href="group/group__CAN__Exported__Types.html#gab7cb5283f4d9a37525a360300e6f702e">CAN_HandleTypeDef</a> *hcan, uint32_t TxMailbox)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Return timestamp of Tx message sent, if time triggered communication mode is enabled.  <a href="group/group__CAN__Exported__Functions__Group3.html#ga144221a69db7ddaf763dc1654a82fff2"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">HAL_StatusTypeDef&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group/group__CAN__Exported__Functions__Group3.html#gaf25698a35af7f78d01b036fcb80d81f3">HAL_CAN_GetRxMessage</a> (<a class="el" href="group/group__CAN__Exported__Types.html#gab7cb5283f4d9a37525a360300e6f702e">CAN_HandleTypeDef</a> *hcan, uint32_t RxFifo, <a class="el" href="structCAN__RxHeaderTypeDef.html">CAN_RxHeaderTypeDef</a> *pHeader, uint8_t aData[])</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Get an CAN frame from the Rx FIFO zone into the message RAM.  <a href="group/group__CAN__Exported__Functions__Group3.html#gaf25698a35af7f78d01b036fcb80d81f3"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group/group__CAN__Exported__Functions__Group3.html#gaed7966ce3d5a7a3d274cdda6fdbccd3f">HAL_CAN_GetRxFifoFillLevel</a> (<a class="el" href="group/group__CAN__Exported__Types.html#gab7cb5283f4d9a37525a360300e6f702e">CAN_HandleTypeDef</a> *hcan, uint32_t RxFifo)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Return Rx FIFO fill level.  <a href="group/group__CAN__Exported__Functions__Group3.html#gaed7966ce3d5a7a3d274cdda6fdbccd3f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">HAL_StatusTypeDef&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group/group__CAN__Exported__Functions__Group4.html#ga6787c99e826f1982c3519d76d7754f39">HAL_CAN_ActivateNotification</a> (<a class="el" href="group/group__CAN__Exported__Types.html#gab7cb5283f4d9a37525a360300e6f702e">CAN_HandleTypeDef</a> *hcan, uint32_t ActiveITs)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Enable interrupts.  <a href="group/group__CAN__Exported__Functions__Group4.html#ga6787c99e826f1982c3519d76d7754f39"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">HAL_StatusTypeDef&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group/group__CAN__Exported__Functions__Group4.html#ga193e371eec69f7b26a7521c010bd41af">HAL_CAN_DeactivateNotification</a> (<a class="el" href="group/group__CAN__Exported__Types.html#gab7cb5283f4d9a37525a360300e6f702e">CAN_HandleTypeDef</a> *hcan, uint32_t InactiveITs)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Disable interrupts.  <a href="group/group__CAN__Exported__Functions__Group4.html#ga193e371eec69f7b26a7521c010bd41af"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group/group__CAN__Exported__Functions__Group4.html#gadf2b0310545d5b616ff26b6b4488df4b">HAL_CAN_IRQHandler</a> (<a class="el" href="group/group__CAN__Exported__Types.html#gab7cb5283f4d9a37525a360300e6f702e">CAN_HandleTypeDef</a> *hcan)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Handles CAN interrupt request.  <a href="group/group__CAN__Exported__Functions__Group4.html#gadf2b0310545d5b616ff26b6b4488df4b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">__weak void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group/group__CAN__Exported__Functions__Group5.html#ga75e275a14f7262262bdeebe3fedb4ec8">HAL_CAN_TxMailbox0CompleteCallback</a> (<a class="el" href="group/group__CAN__Exported__Types.html#gab7cb5283f4d9a37525a360300e6f702e">CAN_HandleTypeDef</a> *hcan)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Transmission Mailbox 0 complete callback.  <a href="group/group__CAN__Exported__Functions__Group5.html#ga75e275a14f7262262bdeebe3fedb4ec8"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">__weak void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group/group__CAN__Exported__Functions__Group5.html#gae3998cca8ac1b2f8adcfbcb5745089de">HAL_CAN_TxMailbox1CompleteCallback</a> (<a class="el" href="group/group__CAN__Exported__Types.html#gab7cb5283f4d9a37525a360300e6f702e">CAN_HandleTypeDef</a> *hcan)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Transmission Mailbox 1 complete callback.  <a href="group/group__CAN__Exported__Functions__Group5.html#gae3998cca8ac1b2f8adcfbcb5745089de"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">__weak void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group/group__CAN__Exported__Functions__Group5.html#ga2fdfd760f1c31359331deb6e04c6f09d">HAL_CAN_TxMailbox2CompleteCallback</a> (<a class="el" href="group/group__CAN__Exported__Types.html#gab7cb5283f4d9a37525a360300e6f702e">CAN_HandleTypeDef</a> *hcan)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Transmission Mailbox 2 complete callback.  <a href="group/group__CAN__Exported__Functions__Group5.html#ga2fdfd760f1c31359331deb6e04c6f09d"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">__weak void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group/group__CAN__Exported__Functions__Group5.html#gaa74dcec2685b3d85d43c7704b3df0717">HAL_CAN_TxMailbox0AbortCallback</a> (<a class="el" href="group/group__CAN__Exported__Types.html#gab7cb5283f4d9a37525a360300e6f702e">CAN_HandleTypeDef</a> *hcan)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Transmission Mailbox 0 Cancellation callback.  <a href="group/group__CAN__Exported__Functions__Group5.html#gaa74dcec2685b3d85d43c7704b3df0717"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">__weak void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group/group__CAN__Exported__Functions__Group5.html#ga1c654f651768158504d30fe6927c4e10">HAL_CAN_TxMailbox1AbortCallback</a> (<a class="el" href="group/group__CAN__Exported__Types.html#gab7cb5283f4d9a37525a360300e6f702e">CAN_HandleTypeDef</a> *hcan)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Transmission Mailbox 1 Cancellation callback.  <a href="group/group__CAN__Exported__Functions__Group5.html#ga1c654f651768158504d30fe6927c4e10"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">__weak void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group/group__CAN__Exported__Functions__Group5.html#ga32fb0775fcb574d58737d2f2670e2f2e">HAL_CAN_TxMailbox2AbortCallback</a> (<a class="el" href="group/group__CAN__Exported__Types.html#gab7cb5283f4d9a37525a360300e6f702e">CAN_HandleTypeDef</a> *hcan)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Transmission Mailbox 2 Cancellation callback.  <a href="group/group__CAN__Exported__Functions__Group5.html#ga32fb0775fcb574d58737d2f2670e2f2e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">__weak void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group/group__CAN__Exported__Functions__Group5.html#ga7368d39e78009c017d6f81ccf33b9b2c">HAL_CAN_RxFifo0MsgPendingCallback</a> (<a class="el" href="group/group__CAN__Exported__Types.html#gab7cb5283f4d9a37525a360300e6f702e">CAN_HandleTypeDef</a> *hcan)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Rx FIFO 0 message pending callback.  <a href="group/group__CAN__Exported__Functions__Group5.html#ga7368d39e78009c017d6f81ccf33b9b2c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">__weak void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group/group__CAN__Exported__Functions__Group5.html#ga29ebf2ba3648d7289dfb17ec850e5b97">HAL_CAN_RxFifo0FullCallback</a> (<a class="el" href="group/group__CAN__Exported__Types.html#gab7cb5283f4d9a37525a360300e6f702e">CAN_HandleTypeDef</a> *hcan)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Rx FIFO 0 full callback.  <a href="group/group__CAN__Exported__Functions__Group5.html#ga29ebf2ba3648d7289dfb17ec850e5b97"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">__weak void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group/group__CAN__Exported__Functions__Group5.html#gaf6dd58034ec0e0a887b1c36317c4c64b">HAL_CAN_RxFifo1MsgPendingCallback</a> (<a class="el" href="group/group__CAN__Exported__Types.html#gab7cb5283f4d9a37525a360300e6f702e">CAN_HandleTypeDef</a> *hcan)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Rx FIFO 1 message pending callback.  <a href="group/group__CAN__Exported__Functions__Group5.html#gaf6dd58034ec0e0a887b1c36317c4c64b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">__weak void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group/group__CAN__Exported__Functions__Group5.html#ga066371ef27009ea142a4ddd765996a79">HAL_CAN_RxFifo1FullCallback</a> (<a class="el" href="group/group__CAN__Exported__Types.html#gab7cb5283f4d9a37525a360300e6f702e">CAN_HandleTypeDef</a> *hcan)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Rx FIFO 1 full callback.  <a href="group/group__CAN__Exported__Functions__Group5.html#ga066371ef27009ea142a4ddd765996a79"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">__weak void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group/group__CAN__Exported__Functions__Group5.html#ga664623470d666143ed25873c78e284b3">HAL_CAN_SleepCallback</a> (<a class="el" href="group/group__CAN__Exported__Types.html#gab7cb5283f4d9a37525a360300e6f702e">CAN_HandleTypeDef</a> *hcan)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Sleep callback.  <a href="group/group__CAN__Exported__Functions__Group5.html#ga664623470d666143ed25873c78e284b3"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">__weak void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group/group__CAN__Exported__Functions__Group5.html#ga6161faa8d2367e18bb766a7e4deb4ff0">HAL_CAN_WakeUpFromRxMsgCallback</a> (<a class="el" href="group/group__CAN__Exported__Types.html#gab7cb5283f4d9a37525a360300e6f702e">CAN_HandleTypeDef</a> *hcan)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">WakeUp from Rx message callback.  <a href="group/group__CAN__Exported__Functions__Group5.html#ga6161faa8d2367e18bb766a7e4deb4ff0"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">__weak void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group/group__CAN__Exported__Functions__Group5.html#ga5f50dd09a65bf48c31926f5aa9b162e7">HAL_CAN_ErrorCallback</a> (<a class="el" href="group/group__CAN__Exported__Types.html#gab7cb5283f4d9a37525a360300e6f702e">CAN_HandleTypeDef</a> *hcan)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Error CAN callback.  <a href="group/group__CAN__Exported__Functions__Group5.html#ga5f50dd09a65bf48c31926f5aa9b162e7"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="group/group__CAN__Exported__Types.html#ga264af82e7978f32e1d75a21ce46fade4">HAL_CAN_StateTypeDef</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group/group__CAN__Exported__Functions__Group6.html#ga0f78e712f59d51c22067867aaf899e50">HAL_CAN_GetState</a> (<a class="el" href="group/group__CAN__Exported__Types.html#gab7cb5283f4d9a37525a360300e6f702e">CAN_HandleTypeDef</a> *hcan)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the CAN state.  <a href="group/group__CAN__Exported__Functions__Group6.html#ga0f78e712f59d51c22067867aaf899e50"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group/group__CAN__Exported__Functions__Group6.html#ga8638a2c170e8b9629eb3ce07c49e548d">HAL_CAN_GetError</a> (<a class="el" href="group/group__CAN__Exported__Types.html#gab7cb5283f4d9a37525a360300e6f702e">CAN_HandleTypeDef</a> *hcan)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the CAN error code.  <a href="group/group__CAN__Exported__Functions__Group6.html#ga8638a2c170e8b9629eb3ce07c49e548d"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">HAL_StatusTypeDef&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group/group__CAN__Exported__Functions__Group6.html#ga2b3f66c582d0e000d79dcfd0aae8dedf">HAL_CAN_ResetError</a> (<a class="el" href="group/group__CAN__Exported__Types.html#gab7cb5283f4d9a37525a360300e6f702e">CAN_HandleTypeDef</a> *hcan)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Reset the CAN error code.  <a href="group/group__CAN__Exported__Functions__Group6.html#ga2b3f66c582d0e000d79dcfd0aae8dedf"></a><br/></td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>CAN HAL module driver. This file provides firmware functions to manage the following functionalities of the Controller Area Network (CAN) peripheral: + Initialization and de-initialization functions + Configuration functions + Control functions + Interrupts management + Callbacks functions + Peripheral State and Error functions. </p>
<dl class="author"><dt><b>Author:</b></dt><dd>MCD Application Team <div class="fragment"><pre class="fragment">
  ==============================================================================
                        ##### How to use this driver #####
  ==============================================================================
    [..]
      (#) Initialize the CAN low level resources by implementing the
          HAL_CAN_MspInit():
         (++) Enable the CAN interface clock using __HAL_RCC_CANx_CLK_ENABLE()
         (++) Configure CAN pins
             (+++) Enable the clock for the CAN GPIOs
             (+++) Configure CAN pins as alternate function open-drain
         (++) In case of using interrupts (e.g. HAL_CAN_ActivateNotification())
             (+++) Configure the CAN interrupt priority using
                   HAL_NVIC_SetPriority()
             (+++) Enable the CAN IRQ handler using HAL_NVIC_EnableIRQ()
             (+++) In CAN IRQ handler, call HAL_CAN_IRQHandler()

      (#) Initialize the CAN peripheral using HAL_CAN_Init() function. This
          function resorts to HAL_CAN_MspInit() for low-level initialization.

      (#) Configure the reception filters using the following configuration
          functions:
            (++) HAL_CAN_ConfigFilter()

      (#) Start the CAN module using HAL_CAN_Start() function. At this level
          the node is active on the bus: it receive messages, and can send
          messages.

      (#) To manage messages transmission, the following Tx control functions
          can be used:
            (++) HAL_CAN_AddTxMessage() to request transmission of a new
                 message.
            (++) HAL_CAN_AbortTxRequest() to abort transmission of a pending
                 message.
            (++) HAL_CAN_GetTxMailboxesFreeLevel() to get the number of free Tx
                 mailboxes.
            (++) HAL_CAN_IsTxMessagePending() to check if a message is pending
                 in a Tx mailbox.
            (++) HAL_CAN_GetTxTimestamp() to get the timestamp of Tx message
                 sent, if time triggered communication mode is enabled.

      (#) When a message is received into the CAN Rx FIFOs, it can be retrieved
          using the HAL_CAN_GetRxMessage() function. The function
          HAL_CAN_GetRxFifoFillLevel() allows to know how many Rx message are
          stored in the Rx Fifo.

      (#) Calling the HAL_CAN_Stop() function stops the CAN module.

      (#) The deinitialization is achieved with HAL_CAN_DeInit() function.


      *** Polling mode operation ***
      ==============================
    [..]
      (#) Reception:
            (++) Monitor reception of message using HAL_CAN_GetRxFifoFillLevel()
                 until at least one message is received.
            (++) Then get the message using HAL_CAN_GetRxMessage().

      (#) Transmission:
            (++) Monitor the Tx mailboxes availability until at least one Tx
                 mailbox is free, using HAL_CAN_GetTxMailboxesFreeLevel().
            (++) Then request transmission of a message using
                 HAL_CAN_AddTxMessage().


      *** Interrupt mode operation ***
      ================================
    [..]
      (#) Notifications are activated using HAL_CAN_ActivateNotification()
          function. Then, the process can be controlled through the
          available user callbacks: HAL_CAN_xxxCallback(), using same APIs
          HAL_CAN_GetRxMessage() and HAL_CAN_AddTxMessage().

      (#) Notifications can be deactivated using
          HAL_CAN_DeactivateNotification() function.

      (#) Special care should be taken for CAN_IT_RX_FIFO0_MSG_PENDING and
          CAN_IT_RX_FIFO1_MSG_PENDING notifications. These notifications trig
          the callbacks HAL_CAN_RxFIFO0MsgPendingCallback() and
          HAL_CAN_RxFIFO1MsgPendingCallback(). User has two possible options
          here.
            (++) Directly get the Rx message in the callback, using
                 HAL_CAN_GetRxMessage().
            (++) Or deactivate the notification in the callback without
                 getting the Rx message. The Rx message can then be got later
                 using HAL_CAN_GetRxMessage(). Once the Rx message have been
                 read, the notification can be activated again.


      *** Sleep mode ***
      ==================
    [..]
      (#) The CAN peripheral can be put in sleep mode (low power), using
          HAL_CAN_RequestSleep(). The sleep mode will be entered as soon as the
          current CAN activity (transmission or reception of a CAN frame) will
          be completed.

      (#) A notification can be activated to be informed when the sleep mode
          will be entered.

      (#) It can be checked if the sleep mode is entered using
          HAL_CAN_IsSleepActive().
          Note that the CAN state (accessible from the API HAL_CAN_GetState())
          is HAL_CAN_STATE_SLEEP_PENDING as soon as the sleep mode request is
          submitted (the sleep mode is not yet entered), and become
          HAL_CAN_STATE_SLEEP_ACTIVE when the sleep mode is effective.

      (#) The wake-up from sleep mode can be trigged by two ways:
            (++) Using HAL_CAN_WakeUp(). When returning from this function,
                 the sleep mode is exited (if return status is HAL_OK).
            (++) When a start of Rx CAN frame is detected by the CAN peripheral,
                 if automatic wake up mode is enabled.

  *** Callback registration ***
  =============================================

  The compilation define  USE_HAL_CAN_REGISTER_CALLBACKS when set to 1
  allows the user to configure dynamically the driver callbacks.
  Use Function @ref HAL_CAN_RegisterCallback() to register an interrupt callback.

  Function @ref HAL_CAN_RegisterCallback() allows to register following callbacks:
    (+) TxMailbox0CompleteCallback   : Tx Mailbox 0 Complete Callback.
    (+) TxMailbox1CompleteCallback   : Tx Mailbox 1 Complete Callback.
    (+) TxMailbox2CompleteCallback   : Tx Mailbox 2 Complete Callback.
    (+) TxMailbox0AbortCallback      : Tx Mailbox 0 Abort Callback.
    (+) TxMailbox1AbortCallback      : Tx Mailbox 1 Abort Callback.
    (+) TxMailbox2AbortCallback      : Tx Mailbox 2 Abort Callback.
    (+) RxFifo0MsgPendingCallback    : Rx Fifo 0 Message Pending Callback.
    (+) RxFifo0FullCallback          : Rx Fifo 0 Full Callback.
    (+) RxFifo1MsgPendingCallback    : Rx Fifo 1 Message Pending Callback.
    (+) RxFifo1FullCallback          : Rx Fifo 1 Full Callback.
    (+) SleepCallback                : Sleep Callback.
    (+) WakeUpFromRxMsgCallback      : Wake Up From Rx Message Callback.
    (+) ErrorCallback                : Error Callback.
    (+) MspInitCallback              : CAN MspInit.
    (+) MspDeInitCallback            : CAN MspDeInit.
  This function takes as parameters the HAL peripheral handle, the Callback ID
  and a pointer to the user callback function.

  Use function @ref HAL_CAN_UnRegisterCallback() to reset a callback to the default
  weak function.
  @ref HAL_CAN_UnRegisterCallback takes as parameters the HAL peripheral handle,
  and the Callback ID.
  This function allows to reset following callbacks:
    (+) TxMailbox0CompleteCallback   : Tx Mailbox 0 Complete Callback.
    (+) TxMailbox1CompleteCallback   : Tx Mailbox 1 Complete Callback.
    (+) TxMailbox2CompleteCallback   : Tx Mailbox 2 Complete Callback.
    (+) TxMailbox0AbortCallback      : Tx Mailbox 0 Abort Callback.
    (+) TxMailbox1AbortCallback      : Tx Mailbox 1 Abort Callback.
    (+) TxMailbox2AbortCallback      : Tx Mailbox 2 Abort Callback.
    (+) RxFifo0MsgPendingCallback    : Rx Fifo 0 Message Pending Callback.
    (+) RxFifo0FullCallback          : Rx Fifo 0 Full Callback.
    (+) RxFifo1MsgPendingCallback    : Rx Fifo 1 Message Pending Callback.
    (+) RxFifo1FullCallback          : Rx Fifo 1 Full Callback.
    (+) SleepCallback                : Sleep Callback.
    (+) WakeUpFromRxMsgCallback      : Wake Up From Rx Message Callback.
    (+) ErrorCallback                : Error Callback.
    (+) MspInitCallback              : CAN MspInit.
    (+) MspDeInitCallback            : CAN MspDeInit.

  By default, after the @ref HAL_CAN_Init() and when the state is HAL_CAN_STATE_RESET,
  all callbacks are set to the corresponding weak functions:
  example @ref HAL_CAN_ErrorCallback().
  Exception done for MspInit and MspDeInit functions that are
  reset to the legacy weak function in the @ref HAL_CAN_Init()/ @ref HAL_CAN_DeInit() only when
  these callbacks are null (not registered beforehand).
  if not, MspInit or MspDeInit are not null, the @ref HAL_CAN_Init()/ @ref HAL_CAN_DeInit()
  keep and use the user MspInit/MspDeInit callbacks (registered beforehand)

  Callbacks can be registered/unregistered in HAL_CAN_STATE_READY state only.
  Exception done MspInit/MspDeInit that can be registered/unregistered
  in HAL_CAN_STATE_READY or HAL_CAN_STATE_RESET state,
  thus registered (user) MspInit/DeInit callbacks can be used during the Init/DeInit.
  In that case first register the MspInit/MspDeInit user callbacks
  using @ref HAL_CAN_RegisterCallback() before calling @ref HAL_CAN_DeInit()
  or @ref HAL_CAN_Init() function.

  When The compilation define USE_HAL_CAN_REGISTER_CALLBACKS is set to 0 or
  not defined, the callback registration feature is not available and all callbacks
  are set to the corresponding weak functions.

  </pre></div></dd></dl>
<dl class="attention"><dt><b>Attention:</b></dt><dd></dd></dl>
<h2><center>&copy; Copyright (c) 2016 STMicroelectronics. All rights reserved.</center></h2>
<p>This software component is licensed by ST under BSD 3-Clause license, the "License"; You may not use this file except in compliance with the License. You may obtain a copy of the License at: opensource.org/licenses/BSD-3-Clause </p>

<p>Definition in file <a class="el" href="stm32f1xx__hal__can_8c_source.html">stm32f1xx_hal_can.c</a>.</p>
</div></div><!-- contents -->


<hr class="footer"/><address class="footer"><small>
Generated on Tue May 14 2019 08:55:21 for STM32F103xB HAL User Manual by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.7.6.1
</small></address>

</body>
</html>
