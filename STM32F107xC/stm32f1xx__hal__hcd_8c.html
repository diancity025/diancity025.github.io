<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>STM32F107xC HAL User Manual: stm32f1xx_hal_hcd.c File Reference</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />



</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">STM32F107xC HAL User Manual
   
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="dir_87d736d687b37c2c2535f3171b4da10d.html">Firmware</a>      </li>
      <li class="navelem"><a class="el" href="dir_77a4a036479ba611396f4796e3271770.html">Drivers</a>      </li>
      <li class="navelem"><a class="el" href="dir_e90ca8f7a3453277a713b77fb925b18f.html">STM32F1xx_HAL_Driver</a>      </li>
      <li class="navelem"><a class="el" href="dir_08b87254197b135abc61821bb66d28f7.html">Src</a>      </li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">stm32f1xx_hal_hcd.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>HCD HAL module driver. This file provides firmware functions to manage the following functionalities of the USB Peripheral Controller: + Initialization and de-initialization functions + IO operation functions + Peripheral Control functions + Peripheral State functions.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;stm32f1xx_hal.h&quot;</code><br/>
</div>
<p><a href="stm32f1xx__hal__hcd_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group/group__HCD__Private__Functions.html#gad2a36a155d43e4ddecabbda15ee25408">HCD_HC_IN_IRQHandler</a> (<a class="el" href="structHCD__HandleTypeDef.html">HCD_HandleTypeDef</a> *hhcd, uint8_t chnum)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Handle Host Channel IN interrupt requests.  <a href="group/group__HCD__Private__Functions.html#gad2a36a155d43e4ddecabbda15ee25408"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group/group__HCD__Private__Functions.html#gafbcdd1ccef25fa99039a6209300752fb">HCD_HC_OUT_IRQHandler</a> (<a class="el" href="structHCD__HandleTypeDef.html">HCD_HandleTypeDef</a> *hhcd, uint8_t chnum)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Handle Host Channel OUT interrupt requests.  <a href="group/group__HCD__Private__Functions.html#gafbcdd1ccef25fa99039a6209300752fb"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group/group__HCD__Private__Functions.html#ga31a45303c36ba9f6731e51217047dbd6">HCD_RXQLVL_IRQHandler</a> (<a class="el" href="structHCD__HandleTypeDef.html">HCD_HandleTypeDef</a> *hhcd)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Handle Rx Queue Level interrupt requests.  <a href="group/group__HCD__Private__Functions.html#ga31a45303c36ba9f6731e51217047dbd6"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group/group__HCD__Private__Functions.html#gac31de874ebf54acc91d958330fef0596">HCD_Port_IRQHandler</a> (<a class="el" href="structHCD__HandleTypeDef.html">HCD_HandleTypeDef</a> *hhcd)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Handle Host Port interrupt requests.  <a href="group/group__HCD__Private__Functions.html#gac31de874ebf54acc91d958330fef0596"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">HAL_StatusTypeDef&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group/group__HCD__Exported__Functions__Group1.html#gadec73166fd88ee54c404ed024b8f4e50">HAL_HCD_Init</a> (<a class="el" href="structHCD__HandleTypeDef.html">HCD_HandleTypeDef</a> *hhcd)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize the host driver.  <a href="group/group__HCD__Exported__Functions__Group1.html#gadec73166fd88ee54c404ed024b8f4e50"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">HAL_StatusTypeDef&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group/group__HCD__Exported__Functions__Group1.html#gacce9dba79edecc8c3f12254d5d0faf90">HAL_HCD_HC_Init</a> (<a class="el" href="structHCD__HandleTypeDef.html">HCD_HandleTypeDef</a> *hhcd, uint8_t ch_num, uint8_t epnum, uint8_t dev_address, uint8_t speed, uint8_t ep_type, uint16_t mps)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize a host channel.  <a href="group/group__HCD__Exported__Functions__Group1.html#gacce9dba79edecc8c3f12254d5d0faf90"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">HAL_StatusTypeDef&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group/group__HCD__Exported__Functions__Group1.html#ga7167252777c15a2d723d65802088fb5d">HAL_HCD_HC_Halt</a> (<a class="el" href="structHCD__HandleTypeDef.html">HCD_HandleTypeDef</a> *hhcd, uint8_t ch_num)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Halt a host channel.  <a href="group/group__HCD__Exported__Functions__Group1.html#ga7167252777c15a2d723d65802088fb5d"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">HAL_StatusTypeDef&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group/group__HCD__Exported__Functions__Group1.html#gacf8b69f077f676198c3a09593b635327">HAL_HCD_DeInit</a> (<a class="el" href="structHCD__HandleTypeDef.html">HCD_HandleTypeDef</a> *hhcd)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">DeInitialize the host driver.  <a href="group/group__HCD__Exported__Functions__Group1.html#gacf8b69f077f676198c3a09593b635327"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">__weak void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group/group__HCD__Exported__Functions__Group1.html#gae0bbb4527b7b68699a7c17d30500842d">HAL_HCD_MspInit</a> (<a class="el" href="structHCD__HandleTypeDef.html">HCD_HandleTypeDef</a> *hhcd)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize the HCD MSP.  <a href="group/group__HCD__Exported__Functions__Group1.html#gae0bbb4527b7b68699a7c17d30500842d"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">__weak void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group/group__HCD__Exported__Functions__Group1.html#gaecb264553245a0de4e234d51f4a0d207">HAL_HCD_MspDeInit</a> (<a class="el" href="structHCD__HandleTypeDef.html">HCD_HandleTypeDef</a> *hhcd)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">DeInitialize the HCD MSP.  <a href="group/group__HCD__Exported__Functions__Group1.html#gaecb264553245a0de4e234d51f4a0d207"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">HAL_StatusTypeDef&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group/group__HCD__Exported__Functions__Group2.html#gad251297042a17f373c150981bae5edfc">HAL_HCD_HC_SubmitRequest</a> (<a class="el" href="structHCD__HandleTypeDef.html">HCD_HandleTypeDef</a> *hhcd, uint8_t ch_num, uint8_t direction, uint8_t ep_type, uint8_t token, uint8_t *pbuff, uint16_t length, uint8_t do_ping)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Submit a new URB for processing.  <a href="group/group__HCD__Exported__Functions__Group2.html#gad251297042a17f373c150981bae5edfc"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group/group__HCD__Exported__Functions__Group2.html#gae18bf9327c37d11bf981a7c2b30ee973">HAL_HCD_IRQHandler</a> (<a class="el" href="structHCD__HandleTypeDef.html">HCD_HandleTypeDef</a> *hhcd)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Handle HCD interrupt request.  <a href="group/group__HCD__Exported__Functions__Group2.html#gae18bf9327c37d11bf981a7c2b30ee973"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">__weak void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group/group__HCD__Exported__Functions__Group2.html#ga4db2ea557e081600238759cb55353628">HAL_HCD_SOF_Callback</a> (<a class="el" href="structHCD__HandleTypeDef.html">HCD_HandleTypeDef</a> *hhcd)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">SOF callback.  <a href="group/group__HCD__Exported__Functions__Group2.html#ga4db2ea557e081600238759cb55353628"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">__weak void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group/group__HCD__Exported__Functions__Group2.html#ga95cbb5d1910e3cbf9bd462e057b3df33">HAL_HCD_Connect_Callback</a> (<a class="el" href="structHCD__HandleTypeDef.html">HCD_HandleTypeDef</a> *hhcd)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Connection Event callback.  <a href="group/group__HCD__Exported__Functions__Group2.html#ga95cbb5d1910e3cbf9bd462e057b3df33"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">__weak void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group/group__HCD__Exported__Functions__Group2.html#gad59d0d3fdd9ef512faa0b0e56d83bfdc">HAL_HCD_Disconnect_Callback</a> (<a class="el" href="structHCD__HandleTypeDef.html">HCD_HandleTypeDef</a> *hhcd)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Disconnection Event callback.  <a href="group/group__HCD__Exported__Functions__Group2.html#gad59d0d3fdd9ef512faa0b0e56d83bfdc"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">__weak void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group/group__HCD__Exported__Functions__Group2.html#ga1bcd77018cd407e7bc5a1e19c04d9a5c">HAL_HCD_PortEnabled_Callback</a> (<a class="el" href="structHCD__HandleTypeDef.html">HCD_HandleTypeDef</a> *hhcd)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Port Enabled Event callback.  <a href="group/group__HCD__Exported__Functions__Group2.html#ga1bcd77018cd407e7bc5a1e19c04d9a5c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">__weak void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group/group__HCD__Exported__Functions__Group2.html#ga3ae64b00f420dc0df07d2951c4381bd5">HAL_HCD_PortDisabled_Callback</a> (<a class="el" href="structHCD__HandleTypeDef.html">HCD_HandleTypeDef</a> *hhcd)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Port Disabled Event callback.  <a href="group/group__HCD__Exported__Functions__Group2.html#ga3ae64b00f420dc0df07d2951c4381bd5"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">__weak void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group/group__HCD__Exported__Functions__Group2.html#ga668704f16414d9ec2fa8023506b28e76">HAL_HCD_HC_NotifyURBChange_Callback</a> (<a class="el" href="structHCD__HandleTypeDef.html">HCD_HandleTypeDef</a> *hhcd, uint8_t chnum, <a class="el" href="group/group__HCD__Exported__Types__Group1.html#gaa0c5f0cd192863615fe22c2c5c933f03">HCD_URBStateTypeDef</a> urb_state)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Notify URB state change callback.  <a href="group/group__HCD__Exported__Functions__Group2.html#ga668704f16414d9ec2fa8023506b28e76"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">HAL_StatusTypeDef&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group/group__HCD__Exported__Functions__Group3.html#gaeca62d02971ad8fd6f71b3bde9e7e0ac">HAL_HCD_Start</a> (<a class="el" href="structHCD__HandleTypeDef.html">HCD_HandleTypeDef</a> *hhcd)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Start the host driver.  <a href="group/group__HCD__Exported__Functions__Group3.html#gaeca62d02971ad8fd6f71b3bde9e7e0ac"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">HAL_StatusTypeDef&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group/group__HCD__Exported__Functions__Group3.html#ga4172d9c4c0d05c951dae4aa5151406fc">HAL_HCD_Stop</a> (<a class="el" href="structHCD__HandleTypeDef.html">HCD_HandleTypeDef</a> *hhcd)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Stop the host driver.  <a href="group/group__HCD__Exported__Functions__Group3.html#ga4172d9c4c0d05c951dae4aa5151406fc"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">HAL_StatusTypeDef&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group/group__HCD__Exported__Functions__Group3.html#ga8cef0fe9a69fa43a73d22010027b832e">HAL_HCD_ResetPort</a> (<a class="el" href="structHCD__HandleTypeDef.html">HCD_HandleTypeDef</a> *hhcd)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Reset the host port.  <a href="group/group__HCD__Exported__Functions__Group3.html#ga8cef0fe9a69fa43a73d22010027b832e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="group/group__HCD__Exported__Types__Group1.html#ga0e764aeccc0cc959f3385794d42f6a75">HCD_StateTypeDef</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group/group__HCD__Exported__Functions__Group4.html#gaaa383694f6303347de1b2a216e214e0a">HAL_HCD_GetState</a> (<a class="el" href="structHCD__HandleTypeDef.html">HCD_HandleTypeDef</a> *hhcd)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the HCD handle state.  <a href="group/group__HCD__Exported__Functions__Group4.html#gaaa383694f6303347de1b2a216e214e0a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="group/group__HCD__Exported__Types__Group1.html#gaa0c5f0cd192863615fe22c2c5c933f03">HCD_URBStateTypeDef</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group/group__HCD__Exported__Functions__Group4.html#ga79e6f19f7b9876c2adefde77864e818e">HAL_HCD_HC_GetURBState</a> (<a class="el" href="structHCD__HandleTypeDef.html">HCD_HandleTypeDef</a> *hhcd, uint8_t chnum)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Return URB state for a channel.  <a href="group/group__HCD__Exported__Functions__Group4.html#ga79e6f19f7b9876c2adefde77864e818e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group/group__HCD__Exported__Functions__Group4.html#ga770cc82abd6a9bcca1e4841c277aafa9">HAL_HCD_HC_GetXferCount</a> (<a class="el" href="structHCD__HandleTypeDef.html">HCD_HandleTypeDef</a> *hhcd, uint8_t chnum)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the last host transfer size.  <a href="group/group__HCD__Exported__Functions__Group4.html#ga770cc82abd6a9bcca1e4841c277aafa9"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="group/group__HCD__Exported__Types__Group1.html#gaddc71ebd6c2bdf5d1ee527525611647a">HCD_HCStateTypeDef</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group/group__HCD__Exported__Functions__Group4.html#ga39ed5c784ad69c394b09fdfcacd13c03">HAL_HCD_HC_GetState</a> (<a class="el" href="structHCD__HandleTypeDef.html">HCD_HandleTypeDef</a> *hhcd, uint8_t chnum)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the Host Channel state.  <a href="group/group__HCD__Exported__Functions__Group4.html#ga39ed5c784ad69c394b09fdfcacd13c03"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group/group__HCD__Exported__Functions__Group4.html#ga61a086092e452f7c706d890e266d482c">HAL_HCD_GetCurrentFrame</a> (<a class="el" href="structHCD__HandleTypeDef.html">HCD_HandleTypeDef</a> *hhcd)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the current Host frame number.  <a href="group/group__HCD__Exported__Functions__Group4.html#ga61a086092e452f7c706d890e266d482c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group/group__HCD__Exported__Functions__Group4.html#ga6622593856d3d6adbce6362d23537448">HAL_HCD_GetCurrentSpeed</a> (<a class="el" href="structHCD__HandleTypeDef.html">HCD_HandleTypeDef</a> *hhcd)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the Host enumeration speed.  <a href="group/group__HCD__Exported__Functions__Group4.html#ga6622593856d3d6adbce6362d23537448"></a><br/></td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>HCD HAL module driver. This file provides firmware functions to manage the following functionalities of the USB Peripheral Controller: + Initialization and de-initialization functions + IO operation functions + Peripheral Control functions + Peripheral State functions. </p>
<dl class="author"><dt><b>Author:</b></dt><dd>MCD Application Team <div class="fragment"><pre class="fragment">
  ==============================================================================
                    ##### How to use this driver #####
  ==============================================================================
  [..]
    (#)Declare a HCD_HandleTypeDef handle structure, for example:
       HCD_HandleTypeDef  hhcd;

    (#)Fill parameters of Init structure in HCD handle

    (#)Call HAL_HCD_Init() API to initialize the HCD peripheral (Core, Host core, ...)

    (#)Initialize the HCD low level resources through the HAL_HCD_MspInit() API:
        (##) Enable the HCD/USB Low Level interface clock using the following macros
             (+++) __HAL_RCC_USB_OTG_FS_CLK_ENABLE();
        (##) Initialize the related GPIO clocks
        (##) Configure HCD pin-out
        (##) Configure HCD NVIC interrupt

    (#)Associate the Upper USB Host stack to the HAL HCD Driver:
        (##) hhcd.pData = phost;

    (#)Enable HCD transmission and reception:
        (##) HAL_HCD_Start();

  </pre></div></dd></dl>
<dl class="attention"><dt><b>Attention:</b></dt><dd></dd></dl>
<h2><center>&copy; Copyright (c) 2016 STMicroelectronics. All rights reserved.</center></h2>
<p>This software component is licensed by ST under BSD 3-Clause license, the "License"; You may not use this file except in compliance with the License. You may obtain a copy of the License at: opensource.org/licenses/BSD-3-Clause </p>

<p>Definition in file <a class="el" href="stm32f1xx__hal__hcd_8c_source.html">stm32f1xx_hal_hcd.c</a>.</p>
</div></div><!-- contents -->


<hr class="footer"/><address class="footer"><small>
Generated on Tue May 14 2019 08:58:37 for STM32F107xC HAL User Manual by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.7.6.1
</small></address>

</body>
</html>
